<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VinWonders</title>
    <link rel="icon" type="image/png" href="/assets/iconlogo.png" />
    <link rel="stylesheet" href="./chatbot/chatbot.css" />
    <link rel="stylesheet" href="./style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
      integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>

  <body>
    <div class="wrapper">
      <div class="header">
        <h2 class="headerLeft">
          <p>Chào mừng bạn đến</p>
          <p class="headerLeftt">VinWonders Nha Trang</p>
          <p><i class="fa-solid fa-clock headericon"></i> 09:00 - 20:00</p>
        </h2>
        <div class="headerRight">
          <div class="wrapperIcon1">
            <i class="fa-solid fa-bell headerRightIcon"></i>
          </div>

          <div class="notificationBox">
            <div class="notificationItem">
              <div class="notificationHeader">
                <h4>Lượt chơi của bạn sắp bắt đầu</h4>
                <span>2h</span>
              </div>
              <p>
                Trò chơi bạn đã đăng ký – <b>Cuộc phiêu lưu hầm mỏ</b> sẽ bắt
                đầu trong 30 phút nữa. Hãy chuẩn bị sẵn sàng để không bỏ lỡ hành
                trình đầy kịch tính nhé!
              </p>
            </div>

            <div class="notificationItem">
              <div class="notificationHeader">
                <h4>Thông báo bảo trì</h4>
                <span>1d</span>
              </div>
              <p>
                Trò chơi <b>Đường đua nghẹt thở</b> hiện đang bảo trì để đảm bảo
                chất lượng trải nghiệm. Chúng tôi sẽ thông báo ngay khi hoạt
                động trở lại – cảm ơn bạn đã thông cảm!
              </p>
            </div>

            <div class="notificationItem">
              <div class="notificationHeader">
                <h4>Thông báo tạm dừng</h4>
                <span>3d</span>
              </div>
              <p>
                Do thời tiết không thuận lợi, trò chơi
                <b>Đường lượn nhớ đời</b> tạm ngừng hoạt động để đảm bảo an toàn
                cho du khách. Cảm ơn bạn đã thông cảm!
              </p>
            </div>

            <div class="notificationItem">
              <div class="notificationHeader">
                <h4>Thay đổi lịch biểu diễn</h4>
                <span>10d</span>
              </div>
              <p>
                Sự kiện <b>Tata show</b> sẽ bắt đầu trễ 30 phút so với dự kiến
                vì lý do kỹ thuật. Cảm ơn bạn đã kiên nhẫn chờ đợi!
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="body">
        <div class="bodyContainer">
          <a href="./playgame/play-game.html">
            <div class="card">
              <i class="fa-solid fa-volleyball cardIcon"></i>
              <div class="card-details">
                <p class="cardContent">Điểm vui chơi</p>
                <p class="cardDescription">Đi chơi thôi!</p>
              </div>
            </div>
          </a>
          <a href="./calender/calendar.html">
            <div class="card">
              <i class="fa-solid fa-calendar-days cardIcon"></i>
              <div class="card-details">
                <p class="cardContent">Lịch biểu diễn</p>
                <p class="cardDescription">Khám phá thôi!</p>
              </div>
            </div>
          </a>
          <a href="./food/food.html">
            <div class="card">
              <i class="fa-solid fa-bowl-food cardIcon"></i>
              <div class="card-details">
                <p class="cardContent">Ẩm thực</p>
                <p class="cardDescription">Đi chơi thôi!</p>
              </div>
            </div>
          </a>
          <a href="./ship/ship.html">
            <div class="card">
              <i class="fa-solid fa-bag-shopping cardIcon"></i>
              <div class="card-details">
                <p class="cardContent">Gian hàng</p>
                <p class="cardDescription">Đi chơi thôi!</p>
              </div>
            </div>
          </a>
        </div>
        <div class="bodySlider-wrapper">
          <button class="slider-nav slider-nav-left" aria-label="Previous">
            <i class="fa-solid fa-chevron-left"></i>
          </button>
          <div class="bodySlider">
            <a href="./ticket.html">
              <div class="sliderItem">
                <img src="./assets/slider1.jpg" alt="" class="sliderImage" />
                <p class="sliderContent">Tham quan công viên VinWonders</p>
                <p class="sliderLocation">
                  <i class="fa-solid fa-location-dot"></i>
                  Fairy Land
                </p>
              </div>
            </a>
            <a href="./ticket.html">
              <div class="sliderItem">
                <img src="./assets/slider2.jpg" alt="" class="sliderImage" />
                <p class="sliderContent">Đu quay dây văng</p>
                <p class="sliderLocation">
                  <i class="fa-solid fa-location-dot"></i>
                  Đồi thử thách
                </p>
              </div>
            </a>
            <a href="./ticket.html">
              <div class="sliderItem">
                <img src="./assets/hammo.webp" alt="" class="sliderImage" />
                <p class="sliderContent">Cuộc phiêu lưu hầm mỏ</p>
                <p class="sliderLocation">
                  <i class="fa-solid fa-location-dot"></i>
                  Đồi thử thách
                </p>
              </div>
            </a>
            <a href="./ticket.html">
              <div class="sliderItem">
                <img src="./assets/slider3.jpg" alt="" class="sliderImage" />
                <p class="sliderContent">Vui chơi thủy cung VinWonders</p>
                <p class="sliderLocation">
                  <i class="fa-solid fa-location-dot"></i>
                  Công viên nước
                </p>
              </div>
            </a>
            <a href="./ticket.html">
              <div class="sliderItem">
                <img src="./assets/slider5.webp" alt="" class="sliderImage" />
                <p class="sliderContent">Mãng xà giao chiến</p>
                <p class="sliderLocation">
                  <i class="fa-solid fa-location-dot"></i>
                  Fairy Land
                </p>
              </div>
            </a>
            <a href="./ticket.html">
              <div class="sliderItem">
                <img src="./assets/slider6.webp" alt="" class="sliderImage" />
                <p class="sliderContent">Cơn cuồng nộ của Hải Vương</p>
                <p class="sliderLocation">
                  <i class="fa-solid fa-location-dot"></i>
                  Công viên nước
                </p>
              </div>
            </a>
            <a href="./ticket.html">
              <div class="sliderItem">
                <img src="./assets/slider7.jpg" alt="" class="sliderImage" />
                <p class="sliderContent">Vương quốc kẹo ngọt</p>
                <p class="sliderLocation">
                  <i class="fa-solid fa-location-dot"></i>
                  Fairy Land
                </p>
              </div>
            </a>
            <a href="./ticket.html">
              <div class="sliderItem">
                <img src="./assets/slider8.jpg" alt="" class="sliderImage" />
                <p class="sliderContent">Đường lượn nhớ đời</p>
                <p class="sliderLocation">
                  <i class="fa-solid fa-location-dot"></i>
                  Fairy Land
                </p>
              </div>
            </a>
          </div>
          <button class="slider-nav slider-nav-right" aria-label="Next">
            <i class="fa-solid fa-chevron-right"></i>
          </button>
        </div>

        <div class="journey-section">
          <div class="journey-content">
            <p>Xây dựng hành trình trải nghiệm cho riêng bạn cùng VinWonders</p>
            <a href="./ticket.html">
              <button class="journey-btn">Tạo hành trình</button>
            </a>
          </div>

          <div class="journey-image">
            <img src="./assets/food.jpg" alt="VinWonders" />
          </div>
        </div>

        <div class="queue-card">
          <div class="queue-content-first">
            <p class="queue-text-first">Đặt vé nè, ngon, ngon, ngon!!!</p>
            <button class="queue-btn-first" id="joinQueueBtnFirst">
              Tham gia ngay
            </button>
          </div>
          <img
            src="./assets/game1.webp"
            alt="Nhóm khách tham quan"
            class="queue-img-first"
          />
        </div>
      </div>
      <div class="menu">
        <div class="menuItem">
          <a href="" class="menuItemLink">
            <i class="fa-solid fa-house menuItemIcon"></i>
            <p class="menuItemContent">Trang chủ</p>
          </a>
        </div>
        <div class="menuItem">
          <a href="./ticket.html" class="menuItemLink">
            <i class="fa-solid fa-ticket menuItemIcon"></i>
            <p class="menuItemContent">Mua vé</p>
          </a>
        </div>
        <div class="menuMap">
          <a href="./map-game.html" class="menuItemLink">
            <i class="fa-solid fa-location-dot menuMapIcon"></i>
          </a>
        </div>
        <div class="menuItem">
          <a href="./shopping.html" class="menuItemLink">
            <i class="fa-solid fa-bag-shopping menuItemIcon"></i>
            <p class="menuItemContent">Mua sắm</p>
          </a>
        </div>
        <div class="menuItem">
          <a href="./user.html" class="menuItemLink">
            <i class="fa-solid fa-circle-user menuItemIcon"></i>
            <p class="menuItemContent">Tài khoản</p>
          </a>
        </div>
      </div>
    </div>
    <script>
      const bell = document.querySelector(".wrapperIcon1");
      const box = document.querySelector(".notificationBox");

      bell.addEventListener("click", () => {
        box.classList.toggle("active");
      });

      // Click ngoài để đóng
      document.addEventListener("click", (e) => {
        if (!bell.contains(e.target) && !box.contains(e.target)) {
          box.classList.remove("active");
        }
      });

      document.addEventListener("DOMContentLoaded", () => {
        const joinQueueBtn = document.getElementById("joinQueueBtn");

        if (joinQueueBtn) {
          joinQueueBtn.addEventListener("click", (e) => {
            e.preventDefault();
            console.log("Đã bấm nút tham gia");
            window.location.href = "./gamehangao.html";
          });
        } else {
          console.log("Không tìm thấy joinQueueBtn");
        }
      });

      document.addEventListener("DOMContentLoaded", () => {
        const joinQueueBtnFirst = document.getElementById("joinQueueBtnFirst");

        if (joinQueueBtnFirst) {
          joinQueueBtnFirst.addEventListener("click", (e) => {
            e.preventDefault();
            console.log("Đã bấm nút tham gia");
            window.location.href = "./game.html";
          });
        } else {
          console.log("Không tìm thấy joinQueueBtnFirst");
        }
      });

      // Responsive slider logic
      function updateSlider() {
        const slider = document.querySelector(".bodySlider");
        const items = slider.querySelectorAll(".sliderItem");
        const wrapper = document.querySelector(".bodySlider-wrapper");
        const leftBtn = document.querySelector(".slider-nav-left");
        const rightBtn = document.querySelector(".slider-nav-right");
        if (!slider || !items.length || !wrapper || !leftBtn || !rightBtn)
          return;

        // Get item width (including margin)
        const itemStyle = getComputedStyle(items[0]);
        const itemWidth =
          items[0].offsetWidth + parseInt(itemStyle.marginRight || 0);
        const wrapperWidth = wrapper.offsetWidth;
        const visibleCount = Math.floor(wrapperWidth / itemWidth);
        let currentIndex = 0;

        function showItems() {
          slider.scrollTo({
            left: currentIndex * itemWidth,
            behavior: "smooth",
          });
          leftBtn.disabled = currentIndex === 0;
          rightBtn.disabled = currentIndex >= items.length - visibleCount;
        }

        leftBtn.onclick = () => {
          if (currentIndex > 0) {
            currentIndex = Math.max(0, currentIndex - visibleCount);
            showItems();
          }
        };
        rightBtn.onclick = () => {
          if (currentIndex < items.length - visibleCount) {
            currentIndex = Math.min(
              items.length - visibleCount,
              currentIndex + visibleCount,
            );
            showItems();
          }
        };

        window.addEventListener("resize", () => {
          // recalculate visibleCount and reset scroll
          const newWrapperWidth = wrapper.offsetWidth;
          const newVisibleCount = Math.floor(newWrapperWidth / itemWidth);
          currentIndex = Math.min(currentIndex, items.length - newVisibleCount);
          showItems();
        });

        showItems();
      }

      window.addEventListener("DOMContentLoaded", updateSlider);
      window.addEventListener("resize", updateSlider);
    </script>
    <script src="./main.js"></script>
    <!-- ========== CHATBOT BÉ VIN ========== -->

    <div id="chatbot-root"></div>
    <script>
      fetch("./chatbot/chatbot.html")
        .then((res) => res.text())
        .then((html) => {
          document.getElementById("chatbot-root").innerHTML = html;
          const script = document.createElement("script");
          script.src = "./chatbot/chatbot.js";
          document.body.appendChild(script);
        });
    </script>
    <!-- ========== END CHATBOT ========== -->
  </body>
</html>
