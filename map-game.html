<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <title>VinWonders</title>
    <link rel="icon" type="image/png" href="/assets/iconlogo.png" />
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
      integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <!-- LeafletJS CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
                  /* You can move these to style.css */
                  body {
                    margin: 0;
                    font-family: Arial, sans-serif;
                    padding-top: env(safe-area-inset-top);
                    padding-bottom: env(safe-area-inset-bottom);
                  }

                  .zoom-btn:active {
                    background: linear-gradient(135deg, #d65c00 0%, #ff9447 100%);
                    transform: scale(0.97);
                    box-shadow: 0 2px 8px rgba(247, 113, 25, 0.18);
                  }

                  .zoom-btn i {
                    pointer-events: none;
                  }

                  .map-container {
                    display: flex;
                    flex-direction: column;
                    height: 100vh;
                  }

                  .map-head {
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    background-color: #f77119;
                    color: white;
                    padding: 10px 16px;
                    padding-top: max(10px, env(safe-area-inset-top));
                    font-size: 18px;
                  }

                  .map-wrapper {
                    position: relative;
                    flex: 1;
                    overflow: hidden;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    background: #ffe2c5;
                  }

                  .map {
                    max-height: 100%;
                    width: auto;
                    cursor: grab; /* show grab cursor when pannable */
                    touch-action: none; /* allow pointer events for touch panning */
                    will-change: transform;
                    user-select: none; /* prevent text selection during drag */
                  }

                  .map.grabbing {
                    cursor: grabbing;
                  }

                  /* Zoom buttons */
                  .zoom-controls {
                    position: absolute;
                    bottom: max(20px, env(safe-area-inset-bottom));
                    right: 20px;
                    display: flex;
                    flex-direction: column;
                    gap: 10px;
                    z-index: 1000;
                    align-items: flex-end;
                  }

                  .zoom-btn {
                    background: linear-gradient(135deg, #f77119 0%, #ff9447 100%);
                    color: white;
                    border: none;
                    border-radius: 50%;
                    width: 48px;
                    height: 48px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 22px;
                    cursor: pointer;
                    box-shadow: 0 4px 16px rgba(247, 113, 25, 0.18), 0 1.5px 4px rgba(0,0,0,0.08);
                    transition: background 0.2s, transform 0.15s, box-shadow 0.2s;
                    outline: none;
                    border: 2px solid #fff7f0;
                  }

                  .zoom-btn:hover {
                    background: linear-gradient(135deg, #ec6003 0%, #ff9447 100%);
                    transform: scale(1.08);
                    box-shadow: 0 8px 24px rgba(247, 113, 25, 0.25);
                  }

                  /* Search and filter controls */


            .search-toggle {
              position: absolute;
              top: max(20px, env(safe-area-inset-top));
              left: 20px;
              background: #f77119;
              color: white;
              border: none;
              border-radius: 8px;
              padding: 10px 14px;
              font-size: 18px;
              cursor: pointer;
              box-shadow: 0 2px 10px rgba(247, 113, 25, 0.3);
              transition: all 0.3s;
              z-index: 1000;
              display: none;
            }
            .search-toggle:hover {
              background: #ec6003;
              transform: scale(1.05);
            }
            .search-toggle:active {
              background: #d65c00;
            }
            .search-toggle i {
              pointer-events: none;
            }

            /* Show/hide animation for search/filter panel */
            .search-filter-panel {
      position: absolute;
                    top: max(20px, env(safe-area-inset-top));
                    left: 20px;
                    background: white;
                    border-radius: 12px;
                    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
                    padding: 12px;
                    z-index: 1000;
                    max-width: 300px;
                    width: calc(100vw - 40px);

              transition: opacity 0.25s, visibility 0.25s, transform 0.25s;
              opacity: 1;
              visibility: visible;
              transform: translateY(0);
            }
            .search-filter-panel.hide {
              opacity: 0;
              visibility: hidden;
              pointer-events: none;
              transform: translateY(-10px);
            }

                  .search-box {
                    width: 100%;
                    padding: 10px 12px;
                    border: 2px solid #ffe2c5;
                    border-radius: 8px;
                    font-size: 14px;
                    outline: none;
                    transition: border-color 0.3s;
                    margin-bottom: 10px;
                  }

                  .search-box:focus {
                    border-color: #f77119;
                  }

                  .filter-buttons {
                    display: flex;
                    flex-wrap: wrap;
                    gap: 6px;
                  }

                  .filter-btn {
                    padding: 6px 12px;
                    border: 2px solid #ffe2c5;
                    background: white;
                    border-radius: 20px;
                    font-size: 12px;
                    cursor: pointer;
                    transition: all 0.3s;
                    display: flex;
                    align-items: center;
                    gap: 4px;
                  }

                  .filter-btn:hover {
                    border-color: #f77119;
                    background: #fff7f0;
                  }

                  .filter-btn.active {
                    background: #f77119;
                    color: white;
                    border-color: #f77119;
                  }

                  .legend-toggle {
                    position: absolute;
                    top: max(20px, env(safe-area-inset-top));
                    right: 20px;
                    background: #f77119;
                    color: white;
                    border: none;
                    border-radius: 8px;
                    padding: 10px 14px;
                    font-size: 16px;
                    cursor: pointer;
                    box-shadow: 0 2px 10px rgba(247, 113, 25, 0.3);
                    transition: all 0.3s;
                    z-index: 1000;
                  }

                  .legend-toggle:hover {
                    background: #ec6003;
                    transform: scale(1.05);
                  }

                  .legend-panel {
                    position: absolute;
                    top: 70px;
                    right: 20px;
                    background: white;
                    border-radius: 12px;
                    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
                    padding: 16px;
                    z-index: 1000;
                    max-width: 250px;
                    display: none;
                  }

                  .legend-panel.show {
                    display: block;
                    animation: fadeInRight 0.3s ease-out;
                  }

                  @keyframes fadeInRight {
                    from {
                      opacity: 0;
                      transform: translateX(20px);
                    }
                    to {
                      opacity: 1;
                      transform: translateX(0);
                    }
                  }

                  .legend-item {
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    margin-bottom: 10px;
                    font-size: 13px;
                  }

                  .legend-color {
                    width: 20px;
                    height: 20px;
                    border-radius: 50%;
                    border: 2px solid white;
                    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
                  }

                  /* Leaflet popup customization */
                  .leaflet-popup-content-wrapper {
                    padding: 0;
                    border-radius: 12px;
                    box-shadow: 0 8px 30px rgba(247, 113, 25, 0.4);
                    max-height: none;
                  }

                  .leaflet-popup-content {
                    margin: 0;
                    line-height: 1.4;
                    max-height: none;
                    width: 320px;
                  }

                  /* Scrollable popup inner container */
                  .popup-scroll-container {
                    max-height: 70vh;
                    overflow-y: auto;
                    overflow-x: hidden;
                  }

                  .popup-scroll-container::-webkit-scrollbar {
                    width: 6px;
                  }

                  .popup-scroll-container::-webkit-scrollbar-track {
                    background: #ffe2c5;
                    border-radius: 3px;
                  }

                  .popup-scroll-container::-webkit-scrollbar-thumb {
                    background: #f77119;
                    border-radius: 3px;
                  }

                  .popup-scroll-container::-webkit-scrollbar-thumb:hover {
                    background: #ec6003;
                  }
                  }

                  .leaflet-popup-tip {
                    background: #fff7f0;
                    box-shadow: 0 2px 10px rgba(247, 113, 25, 0.2);
                  }

                  .custom-popup .leaflet-popup-close-button {
                    color: #f77119 !important;
                    font-size: 24px !important;
                    font-weight: bold !important;
                    padding: 8px 12px !important;
                    transition: all 0.3s ease;
                  }

                  .custom-popup .leaflet-popup-close-button:hover {
                    color: #ec6003 !important;
                    transform: scale(1.2);
                  }

                  /* Pulse animation for markers */
                  @keyframes pulse {
                    0%,
                    100% {
                      opacity: 0.6;
                      transform: translate(-50%, -50%) scale(1);
                    }
                    50% {
                      opacity: 0;
                      transform: translate(-50%, -50%) scale(1.8);
                    }
                  }

                  /* Fade in animation for popup */
                  .leaflet-popup {
                    animation: fadeInUp 0.3s ease-out;
                  }

                  @keyframes fadeInUp {
                    from {
                      opacity: 0;
                      transform: translateY(20px);
                    }
                    to {
                      opacity: 1;
                      transform: translateY(0);
                    }
                  }
    </style>
  </head>

  <body>
    <div class="map-container">
      <div class="map-head">
        <a href="./index.html">
          <i class="fa-solid fa-arrow-left"></i>
        </a>
        <p>VinWonders Nha Trang</p>
        <div></div>
      </div>

      <div class="map-wrapper">
        <div id="map" style="width: 100%; height: 100%"></div>

        <!-- Search/Filter Toggle Button -->
        <button
          class="search-toggle"
          id="searchToggle"
          title="T√¨m ki·∫øm ƒë·ªãa ƒëi·ªÉm"
        >
          <i class="fa-solid fa-magnifying-glass"></i>
        </button>

        <!-- Search and Filter Panel -->
        <button
          class="search-toggle"
          id="searchToggle"
          title="T√¨m ki·∫øm ƒë·ªãa ƒëi·ªÉm"
        >
          <i class="fa-solid fa-magnifying-glass"></i>
        </button>

        <div class="search-filter-panel" id="searchPanel">
          <input
            type="text"
            id="searchBox"
            class="search-box"
            placeholder="üîç T√¨m ki·∫øm ƒë·ªãa ƒëi·ªÉm..."
          />
          <div class="filter-buttons">
            <button class="filter-btn active" data-filter="all">
              üéØ T·∫•t c·∫£
            </button>
            <button class="filter-btn" data-filter="ride">üé¢ Tr√≤ ch∆°i</button>
            <button class="filter-btn" data-filter="restaurant">
              üçΩÔ∏è Nh√† h√†ng
            </button>
            <button class="filter-btn" data-filter="shop">üõçÔ∏è C·ª≠a h√†ng</button>
            <button class="filter-btn" data-filter="toilet">üöª WC</button>
            <button class="filter-btn" data-filter="zoo">ü¶Å V∆∞·ªùn th√∫</button>
            <button class="filter-btn" data-filter="medical">üöë Y t·∫ø</button>
          </div>
        </div>

        <!-- Legend Toggle Button -->
        <button class="legend-toggle" id="legendToggle">
          <i class="fa-solid fa-info-circle"></i>
        </button>

        <!-- Legend Panel -->
        <div class="legend-panel" id="legendPanel">
          <h4 style="margin: 0 0 12px 0; color: #f77119; font-size: 14px">
            üìä Ch√∫ th√≠ch
          </h4>
          <div class="legend-item">
            <div class="legend-color" style="background: #4caf50"></div>
            <span>‚úì Th√¥ng tho√°ng (&lt;10 ph√∫t)</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background: #ffc107"></div>
            <span>‚óã B√¨nh th∆∞·ªùng (10-20 ph√∫t)</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background: #ff9800"></div>
            <span>‚óê ƒê√¥ng (20-40 ph√∫t)</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background: #f44336"></div>
            <span>‚óè R·∫•t ƒë√¥ng (&gt;40 ph√∫t)</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background: #999"></div>
            <span>üîß ƒêang b·∫£o tr√¨</span>
          </div>
        </div>

        <div class="zoom-controls">
          <button class="zoom-btn" id="zoomIn">
            <i class="fa-solid fa-plus"></i>
          </button>
          <button class="zoom-btn" id="zoomOut">
            <i class="fa-solid fa-minus"></i>
          </button>
        </div>
      </div>
    </div>

    <script>
      // LeafletJS integration
      // Add LeafletJS script
      const leafletScript = document.createElement("script");
      leafletScript.src = "https://unpkg.com/leaflet/dist/leaflet.js";
      document.body.appendChild(leafletScript);

      leafletScript.onload = function () {
        // Attractions data
        const attractions = [
          // --- BEGIN EXTENDED ATTRACTIONS DATA ---
          // Example: Each object includes all possible fields, null if not available
          {
            name: "Ng√¥i ƒë·ªÅn huy·ªÅn tho·∫°i",
            x: 1259,
            y: 2887,
            wait_time: 12,
            type: "ride",
            maintainance: false,
            location: "C√¥ng vi√™n n∆∞·ªõc Thi√™n ƒë∆∞·ªùng nhi·ªát ƒë·ªõi",
            ages: ["Tr·∫ª em", "Ng∆∞·ªùi l·ªõn"],
            level: "H∆°i s·ª£ m·ªôt ch√∫t",
            height: "Tr√™n 130cm",
            weather_stop: true,
            weight: "Nh·ªè h∆°n 100kg",
            description:
              "H√†nh tr√¨nh kh√°m ph√° tr√™n ƒëo·∫°n ƒë∆∞·ªùng ray d√†i 1.000m xuy√™n l√≤ng n√∫i, ƒë∆∞a kh√°m ph√° c√°c h·∫ßm m·ªè b√≠ ·∫©n v√† nh·ªØng kh√∫c cua ngo·∫°n m·ª•c v·ªõi tr·∫£i nghi·ªám c·ª±c ƒë·ªô.",
            image: "game-image/Ng√¥i ƒë·ªÅn huy·ªÅn tho·∫°i.JPG",
          },
          {
            name: "Ph√°o ƒë√†i k√¨ b√≠",
            x: 1148,
            y: 2606,
            wait_time: 18,
            type: "ride",
            maintainance: false,
            location: "C√¥ng vi√™n n∆∞·ªõc Thi√™n ƒë∆∞·ªùng nhi·ªát ƒë·ªõi",
            ages: ["Tr·∫ª em", "Ng∆∞·ªùi l·ªõn"],
            level: "R·ªõt tim",
            height: "Tr√™n 130cm",
            weather_stop: true,
            weight: "Nh·ªè h∆°n 100kg",
            description:
              "Ho√° th√¢n th√†nh chi·∫øn binh kh√¥ng k√≠ch, tr·∫£i nghi·ªám c·∫£m gi√°c r∆°i t·ª± do t·ª´ zipfall cao 20m. Th·ª≠ th√°ch ƒë∆∞·ª£c y√™u th√≠ch b·ªüi c√°c du kh√°ch ∆∞a th√≠ch tr√≤ ch∆°i c·∫£m gi√°c m·∫°nh.",
            image: "game-image/Ph√°o ƒë√†i k√¨ b√≠.PNG",
          },
          {
            name: "V√≤i r·ªìng hung h√£n",
            x: 979,
            y: 2234,
            wait_time: 15,
            type: "ride",
            maintainance: false,
            location: "C√¥ng vi√™n n∆∞·ªõc Thi√™n ƒë∆∞·ªùng nhi·ªát ƒë·ªõi",
            ages: ["Tr·∫ª em", "Ng∆∞·ªùi l·ªõn"],
            level: "R·ªõt tim",
            height: "Tr√™n 130cm",
            weather_stop: true,
            weight: "Nh·ªè h∆°n 100kg",
            description:
              "Mang ƒë·∫øn cho du kh√°ch nh·ªØng tr·∫£i nghi·ªám kh√°c bi·ªát li√™n ti·∫øp khi tr∆∞·ª£t quanh nh·ªØng v√≤ng xo√°y h√¨nh d·∫°ng chi·∫øc ƒëƒ©a, ho·∫∑c tr·∫£i nghi·ªám h√†nh tr√¨nh r∆°i v√†o h·ªôp ƒëen ƒëem ƒë·∫øn c·∫£m gi√°c ph·∫•n kh√≠ch cho du kh√°ch.",
            image: "game-image/V√≤i r·ªìng hung h√£n.JPG",
          },
          {
            name: "C√∫ r∆°i th√≥t tim",
            x: 1001,
            y: 1948,
            wait_time: 23,
            type: "ride",
            maintainance: false,
            location: "C√¥ng vi√™n n∆∞·ªõc Thi√™n ƒë∆∞·ªùng nhi·ªát ƒë·ªõi",
            ages: ["Tr·∫ª em", "Ng∆∞·ªùi l·ªõn"],
            level: "R·ªõt tim",
            height: "Tr√™n 130cm",
            weather_stop: true,
            weight: "Nh·ªè h∆°n 100kg",
            description:
              "Tr·∫£i nghi·ªám c·∫£m gi√°c r∆°i t·ª± do ƒë·∫ßy gay c·∫•n tr√™n ƒë∆∞·ªùng tr∆∞·ª£t n∆∞·ªõc ƒë∆∞·ª£c thi·∫øt k·∫ø v·ªõi ƒë·ªô d·ªëc ·∫•n t∆∞·ª£ng.",
            image: "game-image/C√∫ r∆°i th√≥t tim.JPG",
          },
          {
            name: "ƒêƒ©a bay v≈© tr·ª•",
            x: 1145,
            y: 2132,
            wait_time: 10,
            type: "ride",
            maintainance: false,
            location: "C√¥ng vi√™n n∆∞·ªõc Thi√™n ƒë∆∞·ªùng nhi·ªát ƒë·ªõi",
            ages: ["Tr·∫ª em", "Ng∆∞·ªùi l·ªõn"],
            level: "R·ªõt tim",
            height: "Tr√™n 130cm",
            weather_stop: true,
            weight: "Nh·ªè h∆°n 100kg",
            description:
              "ƒê∆∞·ªùng tr∆∞·ª£t l·∫ßn ƒë·∫ßu ti√™n c√≥ m·∫∑t t·∫°i Vi·ªát Nam, v·ªõi gi·∫£i th∆∞·ªüng 2015 IAAPA ƒë∆∞·ªùng tr∆∞·ª£t n∆∞·ªõc t·ªët nh·∫•t.",
            image: "game-image/ƒêƒ©a bay v≈© tr·ª•.JPG",
          },
          {
            name: "Th√°c ƒë√¥i th·∫ßn b√≠",
            x: 1515,
            y: 2227,
            wait_time: 8,
            type: "ride",
            maintainance: false,
            location: "C√¥ng vi√™n n∆∞·ªõc Thi√™n ƒë∆∞·ªùng nhi·ªát ƒë·ªõi",
            ages: ["Tr·∫ª em", "Ng∆∞·ªùi l·ªõn"],
            level: "R·ªõt tim",
            height: "Tr√™n 130cm",
            weather_stop: true,
            weight: "Nh·ªè h∆°n 100kg",
            description:
              "Tr√≤ ch∆°i d√†nh cho nh·ªØng b·∫°n tr·∫ª li·ªÅu lƒ©nh, gan d·∫°, tr·∫£i nghi·ªám c·∫£m gi√°c nh∆∞ ƒëang ‚Äúbay‚Äù kh·ªèi ƒë∆∞·ªùng tr∆∞·ª£t c√≥ ƒë·ªô cao 21m, ch·∫°y ƒëua c√πng t·ªëc ƒë·ªô t·ªõi 60km/h",
            image: "game-image/Th√°c ƒë√¥i th·∫ßn b√≠.PNG",
          },
          {
            name: "Cu·ªôc ƒëua b√°o Cheetah",
            x: 1424,
            y: 2313,
            wait_time: 17,
            type: "ride",
            maintainance: false,
            location: "C√¥ng vi√™n n∆∞·ªõc Thi√™n ƒë∆∞·ªùng nhi·ªát ƒë·ªõi",
            ages: ["Tr·∫ª em", "Ng∆∞·ªùi l·ªõn"],
            level: "R·ªõt tim",
            height: "Tr√™n 130cm",
            weather_stop: true,
            weight: "Nh·ªè h∆°n 100kg",
            description:
              "C√πng t·∫°o n√™n nh·ªØng gi√¢y ph√∫t ƒë√°ng nh·ªõ cho gia ƒë√¨nh qua nh·ªØng cu·ªôc ƒëua t·∫°i ƒë∆∞·ªùng tr∆∞·ª£t n∆∞·ªõc r·ª±c r·ª° s·∫Øc m√†u",
            image: "game-image/Cu·ªôc ƒëua b√°o Cheetah.jpg",
          },
          {
            name: "T·∫©u tho√°t ngo·∫°n m·ª•c",
            x: 1410,
            y: 2436,
            wait_time: 20,
            type: "ride",
            maintainance: false,
            location: "C√¥ng vi√™n n∆∞·ªõc Thi√™n ƒë∆∞·ªùng nhi·ªát ƒë·ªõi",
            ages: ["Tr·∫ª em", "Ng∆∞·ªùi l·ªõn"],
            level: "R·ªõt tim",
            height: "Tr√™n 130cm",
            weather_stop: true,
            weight: "Nh·ªè h∆°n 100kg",
            description:
              "ƒê∆∞·ªùng tr∆∞·ª£t cao 12m, g·ªìm 4 m√°ng tr∆∞·ª£t v·ªõi c√°c v√≤ng cua v√† ƒë·ªô d·ªëc u·ªën l∆∞·ª£n ri√™ng bi·ªát, m·ªói m√°ng tr∆∞·ª£t h·ª©a h·∫πn ƒëem l·∫°i nh·ªØng tr·∫£i nghi·ªám ƒë·∫ßy b√πng n·ªï.",
            image: "game-image/T·∫©u tho√°t ngo·∫°n m·ª•c.jpg",
          },
          {
            name: "Ng√¥i l√†ng th·ªßy t·ªôc",
            x: 1376,
            y: 2677,
            wait_time: 22,
            type: "ride",
            maintainance: false,
            location: "C√¥ng vi√™n n∆∞·ªõc Thi√™n ƒë∆∞·ªùng nhi·ªát ƒë·ªõi",
            ages: ["Tr·∫ª em"],
            level: "Th√≠ch h·ª£p cho tr·∫ª em",
            height: "Kh√¥ng gi·ªõi h·∫°n chi·ªÅu cao",
            weather_stop: true,
            weight: null,
            description:
              "B·ªÉ b∆°i ƒë∆∞·ª£c thi·∫øt k·∫ø d√†nh ri√™ng cho c√°c du kh√°ch nh√≠, v·ªõi Ng√¥i nh√† Hawaii, S√∫ng b·∫Øn n∆∞·ªõc, ƒê∆∞·ªùng tr∆∞·ª£t thi√™n nga, S·ª©a phun m∆∞a, H√†nh lang c·∫ßu v·ªìng hay Ng√¥i nh√† qu·∫£ t√°o‚Ä¶ h·ª©a h·∫πn s·∫Ω mang l·∫°i c·∫£m gi√°c b·∫•t ng·ªù v√† th√∫ v·ªã cho c√°c b√©.",
            image: "game-image/Ng√¥i l√†ng thu·ª∑ t·ªôc.jpg",
          },
          {
            name: "Cu·ªôc chi·∫øn c·∫ßu v·ªìng",
            x: 1077,
            y: 1636,
            wait_time: 30,
            type: "ride",
            maintainance: false,
            location: "Sea World",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            level: "Th√≠ch h·ª£p cho tr·∫ª em",
            height: "T·ª´ 100cm tr·ªü l√™n",
            weather_stop: false,
            weight: null,
            description:
              "Nh·ªØng chi·∫øc xe ƒëi·ªán ƒë·ª•ng t·∫°i ƒë√¢y ƒë∆∞·ª£c thi·∫øt k·∫ø v·ªõi h√¨nh th√π ng·ªô nghƒ©nh, b·∫Øt m·∫Øt v√† ƒë·∫∑c bi·ªát, h·ªá th·ªëng c√≥ t√≠nh an to√†n cao. ƒê√¢y l√† tr√≤ ch∆°i ho√†n h·∫£o ƒëem l·∫°i nh·ªØng ph√∫t gi√¢y vui v·∫ª cho b·∫°n v√† gia ƒë√¨nh.",
            image: "game-image/Cu·ªôc chi·∫øn c·∫ßu v·ªìng.jpg",
          },
          {
            name: "V∆∞∆°ng qu·ªëc k·∫πo ng·ªçt",
            x: 948,
            y: 1177,
            wait_time: 12,
            type: "ride",
            maintainance: false,
            location: "Fairy Land",
            ages: ["Tr·∫ª em"],
            level: "Th√≠ch h·ª£p cho tr·∫ª em",
            height: "T·ª´ 140cm tr·ªü xu·ªëng",
            weather_stop: false,
            weight: "Nh·ªè h∆°n 100kg",
            description:
              "ƒê∆∞·ª£c x√¢y d·ª±ng d·ª±a tr√™n c√¢u chuy·ªán Hansel & Gretel, V∆∞∆°ng qu·ªëc k·∫πo ng·ªçt g·ªìm m·ªôt t·ªï h·ª£p c√°c tr√≤ ch∆°i trong nh√† ƒë∆∞·ª£c trang tr√≠ theo ch·ªß ƒë·ªÅ b√°nh k·∫πo.",
            image: "game-image/V∆∞∆°ng qu·ªëc k·∫πo ng·ªçt.jpg",
          },
          {
            name: "Cung ƒëi·ªán √°nh s√°ng",
            x: 1030,
            y: 985,
            wait_time: 13,
            type: "ride",
            maintainance: false,
            location: "Fairy Land",
            ages: ["Kh√¥ng gi·ªõi h·∫°n tu·ªïi"],
            level: "Th√≠ch h·ª£p cho c·∫£ gia ƒë√¨nh",
            height: "Kh√¥ng gi·ªõi h·∫°n chi·ªÅu cao",
            weather_stop: false,
            weight: null,
            description: "M·ªü c·ª≠a v√†o th·ª© 6, 7 v√† Ch·ªß Nh·∫≠t v√†o l√∫c: 11:00-18:00",
            image: "game-image/Cung ƒëi·ªán √°n s√°ng.jpg",
          },
          {
            name: "ƒê∆∞·ªùng l∆∞·ª£n nh·ªõ ƒë·ªùi",
            x: 1061,
            y: 562,
            wait_time: 32,
            type: "ride",
            maintainance: false,
            location: "Fairy Land",
            ages: ["Tr·∫ª em", "Ng∆∞·ªùi l·ªõn"],
            level: "Kh√¥ng th·ªÉ b·ªè l·ª°",
            height: "Tr√™n 100cm",
            weather_stop: true,
            weight: "Nh·ªè h∆°n 100kg",
            description:
              "Th∆∞·ªüng ngo·∫°n h√†nh tr√¨nh d√†i 1.865m kh√°m ph√° b·ª©c tranh c·∫£nh tr√°ng l·ªá v√≤ng quanh ƒê·∫£o H√≤n Tre tr√™n h·ªá th·ªëng xe tr∆∞·ª£t quanh n√∫i l·ªõn nh·∫•t ƒê√¥ng Nam √Å!",
            image: "game-image/ƒê∆∞·ªùng l∆∞·ª£n nh·ªõ ƒë·ªùi.jpg",
          },
          {
            name: "Gi·∫£i m√£ m√™ cung",
            x: 803,
            y: 813,
            wait_time: 30,
            type: "ride",
            maintainance: false,
            location: "Fairy Land",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            level: "H∆°i s·ª£ m·ªôt ch√∫t",
            height: "T·ª´ 120cm tr·ªü l√™n",
            weather_stop: false,
            weight: null,
            description:
              "Tr√≤ ch∆°i VR mang ƒë·∫øn tr·∫£i nghi·ªám t∆∞∆°ng t√°c ƒë·ªôc ƒë√°o trong m·ªôt m√™ cung ·∫£o, h·∫° g·ª•c nh·ªØng con qu√°i th√∫ ƒëang ·∫©n n·∫•p gi·ªØa c√°c t√†n t√≠ch.",
            image: "game-image/Gi·∫£i m√£ m√™ cung.jpg",
          },
          {
            name: "ƒê∆∞·ªùng ƒëua ngh·∫πt th·ªü",
            x: 968,
            y: 789,
            wait_time: null,
            type: "ride",
            maintainance: true,
            location: "Fairy Land",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            level: "H∆°i s·ª£ m·ªôt ch√∫t",
            height: "T·ª´ 130cm tr·ªü l√™n",
            weather_stop: false,
            weight: null,
            description:
              "Kh√°ch h√†ng s·∫Ω ƒë∆∞·ª£c tr·∫£i nghi·ªám ho√° th√¢n th√†nh tay ƒëua ch√≠nh hi·ªáu, v∆∞·ª£t qua nh·ªØng ch∆∞·ªõng ng·∫°i v·∫≠t ƒë·ªÉ v·ªÅ ƒë√≠ch.",
            image: "game-image/ƒê∆∞·ªùng ƒëua ngh·∫πt th·ªü.jpg",
          },
          {
            name: "Tata Show",
            x: 1030,
            y: 985,
            wait_time: 60,
            type: "ride",
            maintainance: false,
            location: "Fairy Land",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            level: "Kh√¥ng th·ªÉ b·ªè l·ª°",
            height: "Kh√¥ng gi·ªõi h·∫°n chi·ªÅu cao",
            weather_stop: true,
            weight: null,
            description:
              "S·ª± k·∫øt h·ª£p gi·ªØa c√¥ng ngh·ªá 3D mapping hi·ªán ƒë·∫°i b·∫≠c nh·∫•t, tr√¨nh di·ªÖn √°nh s√°ng, kh√≥i l·ª≠a v√† ƒë·∫∑c bi·ªát ph·∫ßn bi·ªÉu di·ªÖn c·ªßa h∆°n 100 di·ªÖn vi√™n trong n∆∞·ªõc v√† qu·ªëc t·∫ø ƒë√£ t·∫°o ra m√†n tr√¨nh di·ªÖn ho√†nh tr√°ng v√† m√£n nh√£n ng∆∞·ªùi xem. V·ªü di·ªÖn l√† h√†nh tr√¨nh kh√°m ph√°, phi√™u l∆∞u k·ª≥ th√∫ c·ªßa c√¥ng ch√∫a Tata v√† nh·ªØng ng∆∞·ªùi b·∫°n th√¢n thi·∫øt trong th·∫ø gi·ªõi c·ªï t√≠ch di·ªáu k·ª≥. T·∫°i ƒë√¢y, du kh√°ch s·∫Ω ƒë∆∞·ª£c kh√°m ph√° x·ª© s·ªü V·∫°n Hoa r·ª±c r·ª°, l·∫∑n xu·ªëng bi·ªÉn s√¢u mu√¥n c·∫£nh th·∫ßn ti√™n c·ªßa th·∫ø gi·ªõi ƒê·∫°i D∆∞∆°ng v√† ch·ª©ng ki·∫øn t·∫≠n c√πng l√£nh ƒë·ªãa B√≥ng T·ªëi qua m√†n tr√¨nh di·ªÖn ho√†nh tr√°ng.",
            image: "game-image/Tata show.jpg",
          },
          {
            name: "R·∫°p phim bay",
            x: 1404,
            y: 1436,
            wait_time: 45,
            type: "ride",
            maintainance: false,
            location: "Sea World",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            level: "Th√≠ch h·ª£p cho c·∫£ gia ƒë√¨nh",
            height: "Tr√™n 100cm",
            weather_stop: false,
            weight: "Nh·ªè h∆°n 100kg",
            description:
              'R·∫°p phim bay ƒë·∫ßu ti√™n c·ªßa Vi·ªát Nam mang t·ªõi cho du kh√°ch tr·∫£i nghi·ªám tr·∫°ng th√°i "l∆° l·ª≠ng" gi·ªØa kh√¥ng trung v√† "bay" vun v√∫t th√¥ng qua hi·ªáu ·ª©ng "Flying Simulation" t·ªëi t√¢n nh·∫•t th·∫ø gi·ªõi. Ch·∫°m v√†o Ch√¢u √Çu trong t·ª´ng ph√¢n c·∫£nh v·ªõi hi·ªáu ·ª©ng ƒë·∫∑c bi·ªát: gi√≥, s∆∞∆°ng, mu·ªëi, n∆∞·ªõc, m√πi h∆∞∆°ng.',
            image: "game-image/R·∫°p phim Bay.jpg",
          },
          {
            name: "B·∫≠t nh·∫£y bungee",
            x: 1436,
            y: 670,
            wait_time: 17,
            type: "ride",
            maintainance: false,
            location: "Adventure Land",
            ages: ["Tr·∫ª em", "Ng∆∞·ªùi l·ªõn"],
            level: "R·ªõt tim",
            height: "Tr√™n 140cm",
            weather_stop: true,
            weight: "Nh·ªè h∆°n 100kg",
            description:
              'Tr·∫£i nghi·ªám c·∫£m gi√°c r∆°i t·ª± do ngh·∫πt th·ªü khi nh·∫£y t·ª´ ƒë·ªô cao h√†ng ch·ª•c m√©t xu·ªëng kh√¥ng trung! V·ªõi h·ªá th·ªëng d√¢y ƒë√†n h·ªìi chuy√™n d·ª•ng ƒë·∫°t ti√™u chu·∫©n qu·ªëc t·∫ø, ‚ÄúB·∫≠t nh·∫£y Bungee‚Äù mang ƒë·∫øn th·ª≠ th√°ch c·ª±c ƒë·∫°i cho nh·ªØng ai mu·ªën ch·∫°m gi·ªõi h·∫°n c·ªßa b·∫£n th√¢n v√† t·∫≠n h∆∞·ªüng c·∫£m gi√°c "th√≥t tim" kh√≥ qu√™n.',
            image: "game-image/B·∫≠t nh·∫£y bungee.jpg",
          },
          {
            name: "Th√°p r∆°i t·ª± do",
            x: 1573,
            y: 663,
            wait_time: 15,
            type: "ride",
            maintainance: false,
            location: "Adventure Land",
            ages: ["Tr·∫ª em", "Ng∆∞·ªùi l·ªõn"],
            level: "R·ªõt tim",
            height: "Tr√™n 140cm",
            weather_stop: true,
            weight: "Nh·ªè h∆°n 100kg",
            description:
              "Chinh ph·ª•c ƒë·ªô cao v√† th·∫£ m√¨nh trong kho·∫£nh kh·∫Øc ‚Äútim r∆°i ra ngo√†i‚Äù khi Th√°p r∆°i t·ª± do ƒë∆∞a b·∫°n lao vun v√∫t xu·ªëng ƒë·∫•t ch·ªâ trong v√†i gi√¢y. Hi·ªáu ·ª©ng l·ª±c G m·∫°nh m·∫Ω k·∫øt h·ª£p v·ªõi ƒë·ªô cao cho√°ng ng·ª£p ch·∫Øc ch·∫Øn s·∫Ω khi·∫øn b·∫°n h√©t kh√¥ng ng·ª´ng ngh·ªâ.",
            image: "game-image/Th√°p r∆°i t·ª± do.jpg",
          },
          {
            name: "ƒêua xe tr√™n kh√¥ng",
            x: 1693,
            y: 720,
            wait_time: 27,
            type: "ride",
            maintainance: false,
            location: "Adventure Land",
            ages: ["Tr·∫ª em", "Ng∆∞·ªùi l·ªõn"],
            level: "H∆°i s·ª£ m·ªôt ch√∫t",
            height: "Tr√™n 120cm",
            weather_stop: true,
            weight: "Nh·ªè h∆°n 100kg",
            description:
              "H√≥a th√¢n th√†nh tay ƒëua si√™u t·ªëc v√† l∆∞·ªõt tr√™n kh√¥ng trung qua nh·ªØng kh√∫c cua ngo·∫°n m·ª•c! ‚Äúƒêua xe tr√™n kh√¥ng‚Äù mang ƒë·∫øn c·∫£m gi√°c v·ª´a ph·∫•n kh√≠ch v·ª´a an to√†n, k·∫øt h·ª£p hi·ªáu ·ª©ng t·ªëc ƒë·ªô, ƒë·ªô cao v√† gi√≥ khi·∫øn ng∆∞·ªùi ch∆°i nh∆∞ ƒëang th·∫≠t s·ª± ‚Äúl√°i xe‚Äù gi·ªØa b·∫ßu tr·ªùi Nha Trang.",
            image: "game-image/ƒê∆∞a xe tr√™n kh√¥ng.jpg",
          },
          {
            name: "ƒêu quay d√¢y vƒÉng",
            x: 1646,
            y: 937,
            wait_time: 10,
            type: "ride",
            maintainance: false,
            location: "Adventure Land",
            ages: ["Tr·∫ª em", "Ng∆∞·ªùi l·ªõn"],
            level: "H∆°i s·ª£ m·ªôt ch√∫t",
            height: "Tr√™n 120cm",
            weather_stop: true,
            weight: "Nh·ªè h∆°n 100kg",
            description:
              "·ªû t∆∞ th·∫ø xoay tr√≤n ho·∫∑c xoay nghi√™ng v·ªõi ƒë·ªô cao 3m, tr√≤ ch∆°i ƒëu quay d√¢y vƒÉng s·∫Ω t·∫°o cho b·∫°n c·∫£m gi√°c nh∆∞ ƒëang r∆°i t·ª± do ho·∫∑c bay l∆∞·ª£n trong kh√¥ng trung.",
            image: "game-image/ƒêu quay d√¢y vƒÉng.jpg",
          },
          {
            name: "Cu·ªôc phi√™u l∆∞u h·∫ßm m·ªè",
            x: 1897,
            y: 899,
            wait_time: 13,
            type: "ride",
            maintainance: false,
            location: "Adventure Land",
            ages: ["Tr·∫ª em", "Ng∆∞·ªùi l·ªõn"],
            level: "R·ªõt tim",
            height: "Tr√™n 110cm",
            weather_stop: true,
            weight: "Nh·ªè h∆°n 100kg",
            description:
              "H√†nh tr√¨nh kh√°m ph√° tr√™n ƒëo·∫°n ƒë∆∞·ªùng ray d√†i 1.000m xuy√™n l√≤ng n√∫i, ƒë∆∞a kh√°m ph√° c√°c h·∫ßm m·ªè b√≠ ·∫©n v√† nh·ªØng kh√∫c cua ngo·∫°n m·ª•c v·ªõi tr·∫£i nghi·ªám c·ª±c ƒë·ªô.",
            image: "game-image/Cu·ªôc phi√™u l∆∞u h·∫ßm m·ªè.webp",
          },
          {
            name: "Zipline",
            x: 2675,
            y: 452,
            wait_time: 28,
            type: "ride",
            maintainance: false,
            location: "Fairy Land",
            ages: ["Tr·∫ª em", "Ng∆∞·ªùi l·ªõn"],
            level: "Kh√¥ng th·ªÉ b·ªè l·ª°",
            height: "Tr√™n 130cm",
            weather_stop: true,
            weight: "Nh·ªè h∆°n 100kg",
            description:
              'Ga xu·∫•t ph√°t c·ªßa ƒë∆∞·ªùng tr∆∞·ª£t zipline 3 k·ª∑ l·ª•c\nTr·∫£i nghi·ªám c·∫£m gi√°c "bay gi·ªØa kh√¥ng trung" v√† h√≤a m√¨nh v√†o c·∫£nh s·∫Øc xanh ng√°t c·ªßa bi·ªÉn, c·ªßa tr·ªùi t·∫°i Zipline 03 k·ª∑ l·ª•c: ƒë∆∞·ªùng tr∆∞·ª£t d√†i nh·∫•t, d·ªëc nh·∫•t t·∫°i Vi·ªát Nam!\n30P / l∆∞·ª£t / 10 kh√°ch\n16:50 l∆∞·ª£t ƒë√≥n kh√°ch cu·ªëi c√πng\nL∆ØU √ù : TR√í CH∆†I KH√îNG BAO G·ªíM TRONG GI√Å V√â. GI√Å B√ÅN:\n300.000 VND/ L∆Ø·ª¢T/KH√ÅCH (T·∫∑ng k√®m 01 voucher ·∫©m th·ª±c tr·ªã gi√°\n100.000 vnd ho·∫∑c 01 qu√† t·∫∑ng Merchandise tr·ªã gi√° 100.000vnd)',
            image: "game-image/Ziplinepng.png",
          },
          {
            name: "B√°nh xe b·∫ßu tr·ªùi",
            x: 1719,
            y: 2681,
            wait_time: 12,
            type: "ride",
            maintainance: false,
            location: "The World Garden",
            ages: ["Tr·∫ª em", "Ng∆∞·ªùi l·ªõn", "Ng∆∞·ªùi cao tu·ªïi"],
            level: "Kh√¥ng th·ªÉ b·ªè l·ª°",
            height: "Tr√™n 80cm",
            weather_stop: true,
            weight: "Nh·ªè h∆°n 100kg",
            description:
              "C·∫£m nh·∫≠n ƒë∆∞·ª£c s·ª± h·ªìi h·ªôp, ph·∫•n kh√≠ch, xen l·∫´n cho√°ng ng·ª£p khi thu tr·ªçn to√†n b·ªô c√°nh quan k·ª≥ vƒ© c·ªßa v·ªãnh bi·ªÉn quy·∫øn r≈© ·ªü ƒë·ªô cao 120m. V√≤ng xoay ƒë∆∞·ª£c x√°c nh·∫≠n l√† v√≤ng xoay l·ªõn nh·∫•t Vi·ªát Nam v√† top 10 v√≤ng xoay l·ªõn nh·∫•t th·∫ø gi·ªõi.",
            image: "game-image/B√°nh xe b·∫ßu tr·ªùi.webp",
          },
          {
            name: "Sky Garden",
            x: 1973,
            y: 2867,
            wait_time: 15,
            type: "ride",
            maintainance: false,
            location: "The World Garden",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            level: "Th√≠ch h·ª£p cho c·∫£ gia ƒë√¨nh",
            height: "Kh√¥ng gi·ªõi h·∫°n chi·ªÅu cao",
            weather_stop: false,
            weight: null,
            description:
              "Th∆∞·ªüng ngo·∫°n khu v∆∞·ªùn c√¢y k·ª≥ hoa d·ªã th·∫£o t√°i hi·ªán khu r·ª´ng Nam\nM·ªπ huy·ªÅn b√≠ v√† s√¢u th·∫Øm, chinh ph·ª•c m·ªçi gi√°c quan c·ªßa du kh√°ch:\n‚Ä¢ L·∫°c b∆∞·ªõc trong khung c·∫£nh thi√™n nhi√™n tuy·ªát di·ªáu v·ªõi h√†ng ngh√¨n c√° th·∫ø k·ª≥\nhoa d·ªã th·∫£o v√† c√°c lo√†i c√¢y qu√Ω hi·∫øm.\n‚Ä¢ Chi√™m ng∆∞·ª°ng tuy·ªát t√°c ƒë∆∞·ª£c t·∫°o n√™n t·ª´ c√°c kh·ªëi g·ªó l≈©a h√†ng trƒÉm tu·ªïi\nnh∆∞ Sao ƒêen v√† c√°c lo·∫°i g·ªó h√≥a th·∫°ch kh√°c\n‚Ä¢ Th∆∞·ªüng ngo·∫°n v√† t·∫≠n h∆∞·ªüng b·∫ßu kh√¥ng kh√≠ trong l√†nh n∆°i r·ª´ng xanh\n‚Ä¢ Check in c·ª±c ch·∫•t v·ªõi c√°c g√≥c ·∫£nh m·ªù s∆∞∆°ng huy·ªÅn ·∫£o.",
            image: "game-image/Sky Garden.jpg",
          },
          {
            name: "S·∫Øc m√†u Bromelias",
            x: 2168,
            y: 2849,
            wait_time: 8,
            type: "ride",
            maintainance: false,
            location: "The World Garden",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            level: "Th√≠ch h·ª£p cho c·∫£ gia ƒë√¨nh",
            height: "Kh√¥ng gi·ªõi h·∫°n chi·ªÅu cao",
            weather_stop: false,
            weight: null,
            description:
              'NƒÉm b√™n L·∫ßu V·ªçng C·∫£nh, nh√† k√≠nh S·∫Øc m√†u Bromeliads l√† m·ªôt khu v∆∞·ªùn c·ªë t√≠ch ƒë√≠ch th·ª±c, ƒë∆∞a b·∫°n b∆∞·ªõc v√†o kh√¥ng gian th∆° m·ªông c·ªßa kh√∫c "hoa ca" ng·∫≠p tr√†n h∆∞∆°ng s·∫Øc 8 :\n‚Ä¢ B·ªô ba nh·∫°c c√¥ng t√†i ba bi·ªÉu di·ªÖn b·∫£n h√≤a ca m√πa xu√¢n tr√™n chi·∫øc thuy·ªÅn hoa l·ªông l·∫´y\n‚Ä¢ H∆°n 20 s·∫Øc m√†u bromeliad l·ªông l·∫´y ki√™u sa "th√°nh th√≥t" nh·ªØng n·ªët cao bay b·ªïng, r·ª±c r·ª°\n* D√†n c·ªè mondo, lan l√∫a v√† ·ªï ph·ª•ng... d·ªãu d√†ng "ng√¢n vang" nh·ªØng giai ƒëi·ªáu tr√¢m du d∆∞∆°ng, √™m ·∫£',
            image: "game-image/S·∫Øc m√†u Bromeliads.png",
          },
          {
            name: "L·∫ßu v·ªçng c·∫£nh",
            x: 2305,
            y: 2771,
            wait_time: 8,
            type: "ride",
            maintainance: false,
            location: "The World Garden",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            level: "Th√≠ch h·ª£p cho c·∫£ gia ƒë√¨nh",
            height: "Kh√¥ng gi·ªõi h·∫°n chi·ªÅu cao",
            weather_stop: false,
            weight: null,
            description:
              "NƒÉm ·ªü ƒëi·ªÉm cao nh·∫•t c·ªßa The World Garden, l·∫ßu v·ªçng c·∫£nh v·ªõi ki·∫øn tr√∫c mang h∆°i th·ªü ƒê·ªãa Trung H·∫£i, l√† n∆°i ƒë·ªÉ du kh√°ch ng·∫Øm tr·ªçn v·∫ª ƒë·∫πp c·ªßa ƒë·∫£o H√≤n Tre.",
            image: "game-image/L·∫ßu v·ªçng c·∫£nh.jpg",
          },
          {
            name: "V∆∞·ªùn b∆∞·ªõm",
            x: 2161,
            y: 2667,
            wait_time: 10,
            type: "ride",
            maintainance: false,
            location: "The World Garden",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            level: "Th√≠ch h·ª£p cho c·∫£ gia ƒë√¨nh",
            height: "Kh√¥ng gi·ªõi h·∫°n chi·ªÅu cao",
            weather_stop: false,
            weight: null,
            description:
              "L·∫°c v√†o th·∫ø gi·ªõi c·ªï t√≠ch gi·ªØa m√™ cung b∆∞·ªõm bay\nT·ª±a nh∆∞ m·ªôt khung tr·ªùi m·ªông m∆° b∆∞·ªõc ra t·ª´ truy·ªán c·ªë t√≠ch, v∆∞·ªùn\nB∆∞·ªõm ng·∫≠p tr√†n s·∫Øc hoa r·ª±c r·ª°, h√†ng trƒÉm c√°nh b∆∞·ªõm bay l∆∞·ª£n r·∫≠p r·ªùn, nh·∫π nh√†ng, duy√™n d√°ng, k·ª≥ ·∫£o nh∆∞ tranh v·∫Ω.",
            image: "game-image/V∆∞·ªùn B∆∞·ªõm.jpg",
          },
          {
            name: "V∆∞·ªùn Nh·∫≠t",
            x: 2403,
            y: 2516,
            wait_time: 16,
            type: "ride",
            maintainance: false,
            location: "The World Garden",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            level: "Th√≠ch h·ª£p cho c·∫£ gia ƒë√¨nh",
            height: "Kh√¥ng gi·ªõi h·∫°n chi·ªÅu cao",
            weather_stop: false,
            weight: null,
            description:
              "C√πng ƒë·∫Øm m√¨nh trong kh√¥ng gian vƒÉn h√≥a Nh·∫≠t B·∫£n truy·ªÅn th·ªëng v·ªõi c√°c bi·ªÉu t∆∞·ª£ng c·∫ßu ƒë·ªè, c·ªïng Tori, h·ªì c√° Koi, nh√† thi√™n ƒë·∫∑c tr∆∞ng, ngh·ªá thu·∫≠t tr√† ƒë·∫°o. ƒê√¢y c≈©ng l√† ƒë·ªãa ƒëi·ªÉm tuy·ªát v·ªùi ƒë·∫ø l∆∞u gi·ªØ nh·ªØng b·ª©c ·∫£nh tuy·ªát ƒë·∫πp c√πng ng∆∞·ªùi th√¢n v√† b·∫°n b√® trong chuy·∫øn gh√© thƒÉm VinWonders Nha Trang.",
            image: "game-image/V∆∞·ªùn Nh·∫≠t.jpg",
          },
          {
            name: "Hoang m·∫°c ch√¢u Phi",
            x: 2092,
            y: 2458,
            wait_time: 9,
            type: "ride",
            maintainance: false,
            location: "The World Garden",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            level: "Th√≠ch h·ª£p cho c·∫£ gia ƒë√¨nh",
            height: "Kh√¥ng gi·ªõi h·∫°n chi·ªÅu cao",
            weather_stop: false,
            weight: null,
            description:
              "N∆°i ƒë·ªÉ du kh√°ch th·ªèa s·ª©c check in v√† kh√°m ph√° h√†ng trƒÉm lo√†i x∆∞∆°ng r√¥ng gi·ªØa kh√¥ng gian ƒë∆∞·ª£c m√¥ ph·ªèng t·ª±a m·ªôt hoang m·∫°c.",
            image: "game-image/Hoang m·∫°c ch√¢u Phi.jpg",
          },
          {
            name: "S·∫Øc m√†u m√πa ƒë√¥ng",
            x: 1911,
            y: 2264,
            wait_time: 7,
            type: "ride",
            maintainance: false,
            location: "The World Garden",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            level: "Th√≠ch h·ª£p cho c·∫£ gia ƒë√¨nh",
            height: "Kh√¥ng gi·ªõi h·∫°n chi·ªÅu cao",
            weather_stop: false,
            weight: null,
            description:
              'Chi√™m ng∆∞·ª°ng nh·ªØng lo√†i hoa th√¢n thu·ªôc nh∆∞ c√∫c ƒê√† L·∫°t, Th∆∞·ª£c d∆∞·ª£c, ƒê·ªìng ti·ªÅn, Ng·ªçc th·∫£o... khoe s·∫Øc. ƒê·ªãa ƒëi·ªÉm tuy·ªát v·ªùi ƒë·ªÉ check in v√† selfie nh·ªØng b·ª©c ·∫£nh s·ªëng ·∫£o "tri·ªáu like" c√πng nh·ªØng d√≤ng su·ªëi hoa kh·ªëng l√¥ ch·∫£y d√†i.',
            image: "game-image/S·∫Øc m√†u m√πa ƒë√¥ng.png",
          },
          {
            name: "Cung ƒëi·ªán √°nh s√°ng",
            x: 1176,
            y: 1086,
            wait_time: 13,
            type: "ride",
            maintainance: false,
          },

          {
            name: "V∆∞·ªùn th√∫",
            x: 1868,
            y: 1599,
            wait_time: null,
            type: "zoo",
            maintainance: false,
            location: "King‚Äôs Garden",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            level: "Th√≠ch h·ª£p cho c·∫£ gia ƒë√¨nh",
            height: "Kh√¥ng gi·ªõi h·∫°n chi·ªÅu cao",
            weather_stop: false,
            weight: null,
            description:
              "Kh√°m ph√° h√†ng trƒÉm lo√†i th√∫ hoang d√£, tham gia c√°c khu t∆∞∆°ng t√°c gi√°o d·ª•c v√† h√≤a m√¨nh v√†o kh√¥ng gian xanh m√°t.",
          },
          {
            name: "Nh√† h√†ng S√≥ng Bi·ªÉn",
            x: 1305,
            y: 1127,
            wait_time: null,
            type: "restaurant",
            maintainance: false,
            location: "Fairy Land",
            restaurant_type: "A la carte",
            cuisine: "Vi·ªát Nam",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            level: "Th√≠ch h·ª£p cho c·∫£ gia ƒë√¨nh",
            height: "Kh√¥ng gi·ªõi h·∫°n chi·ªÅu cao",
            weather_stop: false,
            weight: null,
            description:
              "Ph·ª•c v·ª• c√°c m√≥n Vi·ªát - √Çu: Set c∆°m Vi·ªát Nam, M·ª≥ √ù, Ph·ªü, Soup‚Ä¶",
          },
          {
            name: "Nh√† h√†ng Coral",
            x: 884,
            y: 1314,
            wait_time: null,
            type: "restaurant",
            maintainance: false,
            location: "Fairy Land",
            restaurant_type: "Buffet",
            cuisine: "Vi·ªát Nam",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            level: "Th√≠ch h·ª£p cho c·∫£ gia ƒë√¨nh",
            height: "Kh√¥ng gi·ªõi h·∫°n chi·ªÅu cao",
            weather_stop: false,
            weight: null,
            description:
              "Th∆∞·ªüng th·ª©c th·ª±c ƒë∆°n ƒëa d·∫°ng v·ªõi h∆°n 50 m√≥n ƒÉn ƒë∆∞·ª£c l·ª±a ch·ªçn theo m√πa, k·ªÉ c·∫£ phong v·ªã ·∫©m th·ª±c c·ªßa c√°c d·ªãp l·ªÖ T·∫øt, c√πng h·∫£i s·∫£n t∆∞∆°i ngon c·ªßa Vi·ªát Nam v√† qu·ªëc t·∫ø t·∫°i Nh√† h√†ng Buffet Coral v·ªõi c√¥ng su·∫•t 2,500 ch·ªó ng·ªìi c√πng chi ph√≠ h·ª£p l√Ω c·ª±c k√¨ ph√π h·ª£p cho du kh√°ch theo ƒëo√†n.",
          },
          {
            name: "Nh√† h√†ng Lotteria 1",
            x: 1370,
            y: 1571,
            wait_time: null,
            type: "restaurant",
            maintainance: false,
            location: "Sea World",
            restaurant_type: "Fastfood",
            cuisine: "H√†n Qu·ªëc",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            level: "Th√≠ch h·ª£p cho c·∫£ gia ƒë√¨nh",
            height: "Kh√¥ng gi·ªõi h·∫°n chi·ªÅu cao",
            weather_stop: false,
            weight: null,
            description:
              "Chu·ªói nh√† h√†ng fast food m√† h·∫ßu h·∫øt c√°c b·∫°n nh·ªè ƒë·ªÅu y√™u th√≠ch, s·∫µn s√†ng ph·ª•c v·ª• nhu c·∫ßu 'n·∫°p nƒÉng l∆∞·ª£ng' c·ªßa b√© b·∫•t k·ª≥ khi n√†o.",
          },
          {
            name: "Yummy Water World",
            x: 1159,
            y: 1983,
            wait_time: null,
            type: "restaurant",
            maintainance: false,
            location: "C√¥ng vi√™n n∆∞·ªõc Thi√™n ƒë∆∞·ªùng nhi·ªát ƒë·ªõi",
            restaurant_type: "Fastfood",
            cuisine: "Kh√°c",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            level: "Th√≠ch h·ª£p cho c·∫£ gia ƒë√¨nh",
            height: "Kh√¥ng gi·ªõi h·∫°n chi·ªÅu cao",
            weather_stop: false,
            weight: null,
            description:
              "Tr·∫£i nghi·ªám ·∫®m Th·ª±c ƒÉn nhanh ki·ªÉu √Çu sau nh·ªØng gi·ªù vui ch∆°i h·ª©ng kh·ªüi t·∫°i C√¥ng vi√™n n∆∞·ªõc v·ªõi c√°c m√≥n pizza t∆∞∆°i ƒëa d·∫°ng, Burger v√† m√¨ √ù. Ho·∫∑c relax tr√™n b√£i bi·ªÉn v√† tr·∫£i nghi·ªám c√°c m√≥n th·ªãt n∆∞·ªõng v√† bia, Mocktail/ Coktail nhi·ªÅu m√†u s·∫Øc t·∫°o qu·∫ßy Splash Bay Bar v·ªõi view to√†n c·∫£nh th√†nh ph·ªë Nha Trang.",
          },
          {
            name: "Nh√† h√†ng C√° Heo",
            x: 1140,
            y: 2768,
            wait_time: null,
            type: "restaurant",
            maintainance: false,
            location: "C√¥ng vi√™n n∆∞·ªõc Thi√™n ƒë∆∞·ªùng nhi·ªát ƒë·ªõi",
            restaurant_type: "A la carte",
            cuisine: "Ch√¢u √Çu",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            level: "Th√≠ch h·ª£p cho c·∫£ gia ƒë√¨nh",
            height: "Kh√¥ng gi·ªõi h·∫°n chi·ªÅu cao",
            weather_stop: false,
            weight: null,
            description:
              "Nh√† h√†ng ph·ª•c v·ª• nh·ªØng m√≥n ƒÉn fastfood nh∆∞ pizza, m√¨ √ù, burger... ƒë·ªÉ Qu√Ω kh√°ch b·ªï sung nƒÉng l∆∞·ª£ng cho h√†nh tr√¨nh chinh ph·ª•c VinWonders Nha Trang.",
          },
          {
            name: "Yummy World Garden",
            x: 1771,
            y: 2223,
            wait_time: null,
            type: "restaurant",
            maintainance: false,
            location: "The World Garden",
            restaurant_type: "Snacks",
            cuisine: "Vi·ªát Nam",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            level: "Th√≠ch h·ª£p cho c·∫£ gia ƒë√¨nh",
            height: "Kh√¥ng gi·ªõi h·∫°n chi·ªÅu cao",
            weather_stop: false,
            weight: null,
            description:
              "Qu√¢y qu·∫ßn b√™n Set c∆°m gia ƒë√¨nh ho·∫∑c Combo k√®m ƒë·ªì u·ªëng v√† tr√°ng mi·ªáng ti·ªán l·ª£i - Kh√¥ng gian nh√† h√†ng ƒë·∫≠n ch·∫•t m·ªôc gi·ªØa H·ªì sen s√∫ng tuy·ªát ƒë·∫πp. ƒê·∫∑c bi·ªát, nh√† h√†ng c√≤n ph·ª•c v·ª• c√°c Set menu cao c·∫•p cho nh·ªØng kh√°ch h√†ng c√≥ nhu c·∫ßu m·ªõi m·∫ª v·ªÅ phong v·ªã.",
          },

          // üõçÔ∏è C·ª¨A H√ÄNG
          {
            name: "See You Shop",
            x: 1149,
            y: 1216,
            wait_time: null,
            type: "shop",
            maintainance: false,
            location: "Fairy Land",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            height: "Kh√¥ng gi·ªõi h·∫°n chi·ªÅu cao",
            description: "C·ª≠a h√†ng b√°n ƒë·ªì l∆∞u ni·ªám qu·∫ßn √°o.",
          },
          {
            name: "Shop Kid World",
            x: 835,
            y: 1045,
            wait_time: null,
            type: "shop",
            maintainance: false,
            location: "Fairy Land",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            level: "Th√≠ch h·ª£p cho c·∫£ gia ƒë√¨nh",
            height: "Kh√¥ng gi·ªõi h·∫°n chi·ªÅu cao",
            weather_stop: false,
            description: "Qu√† t·∫∑ng v√† ƒë·ªì ch∆°i cho b√©.",
          },
          {
            name: "Maria Shop",
            x: 1318,
            y: 1884,
            wait_time: null,
            type: "shop",
            maintainance: false,
          },
          {
            name: "Wooden House (Shopping)",
            x: 2021,
            y: 1865,
            wait_time: null,
            type: "shop",
            maintainance: false,
            location: "The World Garden",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            level: "Th√≠ch h·ª£p cho c·∫£ gia ƒë√¨nh",
            height: "Kh√¥ng gi·ªõi h·∫°n chi·ªÅu cao",
            weather_stop: false,
            description:
              "C·ª≠a h√†ng l√† ƒë·ªãa ƒëi·ªÉm l√Ω t∆∞·ªüng ƒë·ªÉ b·∫°n m√≥n qu√† l∆∞u ni·ªám ƒë·∫∑c tr∆∞ng v√† √Ω nghƒ©a t·∫∑ng cho ng∆∞·ªùi th√¢n, b·∫°n b√® nh∆∞ qu·∫ßn √°o th·ªùi trang, ph·ª• ki·ªán; c√°c lo·∫°i ƒë·ªì ch∆°i, qu√† l∆∞u ni·ªám.",
          },
          {
            name: "Sea Fashion",
            x: 1899,
            y: 1809,
            wait_time: null,
            type: "shop",
            maintainance: false,
            location: "King‚Äôs Garden",
            ages: ["Kh√¥ng gi·ªõi h·∫°n ƒë·ªô tu·ªïi"],
            height: "Kh√¥ng gi·ªõi h·∫°n chi·ªÅu cao",
            description:
              "Shop Sea Fashion chuy√™n c√°c trang ph·ª•c m√πa h√®, v√°y, m≈© v√† ƒë·ªì resort phong c√°ch bnƒÉng ƒë·ªông, ph√π h·ª£p cho c√°c chuy·∫øn du l·ªãch bi·ªÉn ho·∫∑c d·∫°o ph·ªë.",
          },

          // üöª NH√Ä V·ªÜ SINH
          {
            name: "Nh√† v·ªá sinh",
            x: 999,
            y: 683,
            wait_time: null,
            type: "toilet",
            maintainance: false,
          },
          {
            name: "Nh√† v·ªá sinh",
            x: 1386,
            y: 839,
            wait_time: null,
            type: "toilet",
            maintainance: false,
          },
          {
            name: "Nh√† v·ªá sinh",
            x: 1011,
            y: 1345,
            wait_time: null,
            type: "toilet",
            maintainance: false,
          },
          {
            name: "Nh√† v·ªá sinh",
            x: 650,
            y: 1673,
            wait_time: null,
            type: "toilet",
            maintainance: false,
          },
          {
            name: "Nh√† v·ªá sinh C√¥ng vi√™n n∆∞·ªõc",
            x: 1187,
            y: 1826,
            wait_time: null,
            type: "toilet",
            maintainance: false,
          },
          {
            name: "Nh√† v·ªá sinh",
            x: 1520,
            y: 2095,
            wait_time: null,
            type: "toilet",
            maintainance: false,
          },
          {
            name: "Nh√† v·ªá sinh",
            x: 1115,
            y: 2304,
            wait_time: null,
            type: "toilet",
            maintainance: false,
          },
          {
            name: "Nh√† v·ªá sinh",
            x: 1762,
            y: 2396,
            wait_time: null,
            type: "toilet",
            maintainance: false,
          },
          {
            name: "Nh√† v·ªá sinh",
            x: 1860,
            y: 2834,
            wait_time: null,
            type: "toilet",
            maintainance: false,
          },
          {
            name: "Nh√† v·ªá sinh",
            x: 2275,
            y: 2601,
            wait_time: null,
            type: "toilet",
            maintainance: false,
          },
          {
            name: "Nh√† v·ªá sinh",
            x: 2458,
            y: 2009,
            wait_time: null,
            type: "toilet",
            maintainance: false,
          },
          {
            name: "Nh√† v·ªá sinh",
            x: 2152,
            y: 1608,
            wait_time: null,
            type: "toilet",
            maintainance: false,
          },

          // üè• TR·∫†M Y T·∫æ
          {
            name: "Tr·∫°m y t·∫ø",
            x: 1805,
            y: 752,
            wait_time: null,
            type: "medical",
            maintainance: false,
          },
          {
            name: "Tr·∫°m y t·∫ø",
            x: 819,
            y: 1668,
            wait_time: null,
            type: "medical",
            maintainance: false,
          },
          // --- END EXTENDED ATTRACTIONS DATA ---
        ];

        function getCrowdStatus(waitTime, type) {
          if (type === "toilet") {
            return { status: "Nh√† v·ªá sinh", color: "#2196F3", icon: "üöª" };
          }
          if (type === "zoo") {
            return { status: "V∆∞·ªùn th√∫", color: "#4CAF50", icon: "ü¶Å" };
          }
          if (type === "shop") {
            return { status: "Mua s·∫Øm", color: "#9C27B0", icon: "üõçÔ∏è" };
          }
          if (type === "medical") {
            return { status: "Y t·∫ø", color: "#F44336", icon: "üöë" };
          }
          if (type === "restaurant") {
            return { status: "Nh√† h√†ng", color: "#FF9800", icon: "üçΩÔ∏è" };
          }
          if (waitTime === null) {
            return { status: "B·∫£o tr√¨", color: "#999", icon: "üîß" };
          } else if (waitTime < 10) {
            return { status: "Th√¥ng tho√°ng", color: "#4CAF50", icon: "‚úì" };
          } else if (waitTime < 20) {
            return { status: "B√¨nh th∆∞·ªùng", color: "#FFC107", icon: "‚óã" };
          } else if (waitTime < 40) {
            return { status: "ƒê√¥ng", color: "#FF9800", icon: "‚óê" };
          } else {
            return { status: "R·∫•t ƒë√¥ng", color: "#F44336", icon: "‚óè" };
          }
        }

        // Use custom image as map base
        // Set image dimensions (replace with your actual image size)
        const imageWidth = 3000; // <-- set your map image width in pixels
        const imageHeight = 3000; // <-- set your map image height in pixels

        // Define image bounds: top-left [0,0], bottom-right [imageHeight, imageWidth]
        const bounds = [
          [0, 0],
          [imageHeight, imageWidth],
        ];

        // Initialize Leaflet map with simple CRS and restrict view to image bounds
        const map = L.map("map", {
          crs: L.CRS.Simple,
          minZoom: -2,
          maxZoom: 4,
          zoomControl: false,
          maxBounds: bounds,
          maxBoundsViscosity: 1.0,
        });

        // Add image overlay
        L.imageOverlay("./assets/test_map.jpg", bounds).addTo(map);
        map.fitBounds(bounds);

        // Custom zoom controls
        document.getElementById("zoomIn").onclick = () => map.zoomIn();
        document.getElementById("zoomOut").onclick = () => map.zoomOut();

        // Store all markers for filtering
        const allMarkers = [];

        // Ready for adding markers/points later
        // To add a marker: L.marker([y, x]).addTo(map)
        map.on("click", function (e) {
          // Convert latlng to container point (pixel on map container)
          const point = map.latLngToContainerPoint(e.latlng);
          // Convert latlng to image pixel coordinates
          const imagePoint = map.layerPointToLatLng(point);
          // For CRS.Simple, latlng is [y, x] in image pixels
          const x = e.latlng.lng;
          const y = e.latlng.lat;
          console.log(`Clicked pixel position: x=${x}, y=${y}`);
        });

        attractions.forEach((attraction, idx) => {
          const crowdInfo = getCrowdStatus(
            attraction.wait_time,
            attraction.type,
          );

          // Animated pulse marker with emoji
          const customIcon = L.divIcon({
            className: "custom-marker",
            html: `
        <div style="position: relative; width: 32px; height: 32px;">
          <div style="
            position: absolute; left: 50%; top: 50%;
            width: 32px; height: 32px;
            background: ${crowdInfo.color}33;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: pulse 1.5s infinite;
            z-index: 1;
          "></div>
          <div style="
            position: absolute; left: 50%; top: 50%;
            width: 20px; height: 20px;
            background: ${crowdInfo.color};
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            transform: translate(-50%, -50%);
            display: flex; align-items: center; justify-content: center;
            font-size: 14px; color: #fff;
            z-index: 2;
          ">${crowdInfo.icon}</div>
        </div>
      `,
            iconSize: [32, 32],
            iconAnchor: [16, 16],
          });

          const marker = L.marker([attraction.y, attraction.x], {
            icon: customIcon,
            title: attraction.name,
          }).addTo(map);

          // Build comprehensive popup content
          let popupContent = `
            <div style="width: 320px; font-family: 'Arial', sans-serif; background: linear-gradient(135deg, #fff7f0 0%, #ffe8d6 100%); border-radius: 12px; overflow: hidden;">
              <div class="popup-scroll-container">
          `;

          // Image section
          if (attraction.image) {
            popupContent += `
              <div style="position: relative; width: 100%; height: 180px; overflow: hidden;">
                <img src="${attraction.image}" alt="${attraction.name}" style="width: 100%; height: 100%; object-fit: cover;">
                <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.7) 100%);"></div>
                <div style="position: absolute; bottom: 10px; left: 12px; right: 12px;">
                  <h3 style="margin: 0; color: white; font-size: 18px; font-weight: bold; text-shadow: 2px 2px 4px rgba(0,0,0,0.8);">${attraction.name}</h3>
                </div>
                <div style="position: absolute; top: 10px; right: 10px; background: ${crowdInfo.color}; color: white; padding: 4px 10px; border-radius: 20px; font-size: 12px; font-weight: bold; box-shadow: 0 2px 8px rgba(0,0,0,0.3);">
                  ${crowdInfo.icon} ${crowdInfo.status}
                </div>
              </div>
            `;
          } else {
            // No image, show header with gradient
            popupContent += `
              <div style="background: linear-gradient(135deg, #f77119 0%, #ff9447 100%); padding: 16px; text-align: center;">
                <div style="font-size: 32px; margin-bottom: 8px;">${crowdInfo.icon}</div>
                <h3 style="margin: 0; color: white; font-size: 18px; font-weight: bold; text-shadow: 1px 1px 2px rgba(0,0,0,0.3);">${attraction.name}</h3>
              </div>
            `;
          }

          // Content section
          popupContent += `<div style="padding: 14px;">`;

          // Wait time and status (for rides)
          if (attraction.type === "ride") {
            const waitTimeText =
              attraction.wait_time === null
                ? '<span style="color: #999; font-weight: bold;">ƒêang b·∫£o tr√¨ üîß</span>'
                : `<span style="color: ${crowdInfo.color}; font-weight: bold; font-size: 18px;">${attraction.wait_time} ph√∫t</span>`;

            popupContent += `
              <div style="background: white; padding: 10px; border-radius: 8px; margin-bottom: 12px; border-left: 4px solid #f77119;">
                <div style="font-size: 12px; color: #666; margin-bottom: 4px;">‚è±Ô∏è Th·ªùi gian ch·ªù</div>
                <div style="font-size: 16px;">${waitTimeText}</div>
              </div>
            `;
          }

          // Location
          if (attraction.location) {
            popupContent += `
              <div style="margin-bottom: 10px; display: flex; align-items: start; gap: 8px;">
                <span style="color: #f77119; font-size: 16px; margin-top: 2px;">üìç</span>
                <div>
                  <div style="font-size: 11px; color: #999; text-transform: uppercase; letter-spacing: 0.5px;">Khu v·ª±c</div>
                  <div style="font-size: 13px; color: #333; font-weight: 600;">${attraction.location}</div>
                </div>
              </div>
            `;
          }

          // Description
          if (attraction.description) {
            const shortDesc =
              attraction.description.length > 150
                ? attraction.description.substring(0, 150) + "..."
                : attraction.description;
            popupContent += `
              <div style="background: rgba(255, 255, 255, 0.7); padding: 10px; border-radius: 8px; margin-bottom: 12px; font-size: 13px; line-height: 1.5; color: #555; border: 1px solid #ffe2c5;">
                ${shortDesc}
              </div>
            `;
          }

          // Details grid
          popupContent += `<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 10px;">`;

          // Ages
          if (attraction.ages && attraction.ages.length > 0) {
            popupContent += `
              <div style="background: white; padding: 8px; border-radius: 6px; text-align: center; border: 1px solid #ffe2c5;">
                <div style="font-size: 16px; margin-bottom: 4px;">üë•</div>
                <div style="font-size: 10px; color: #999; margin-bottom: 2px;">ƒê·ªô tu·ªïi</div>
                <div style="font-size: 11px; color: #f77119; font-weight: bold;">${attraction.ages.join(", ")}</div>
              </div>
            `;
          }

          // Height requirement
          if (attraction.height) {
            popupContent += `
              <div style="background: white; padding: 8px; border-radius: 6px; text-align: center; border: 1px solid #ffe2c5;">
                <div style="font-size: 16px; margin-bottom: 4px;">üìè</div>
                <div style="font-size: 10px; color: #999; margin-bottom: 2px;">Chi·ªÅu cao</div>
                <div style="font-size: 11px; color: #f77119; font-weight: bold;">${attraction.height}</div>
              </div>
            `;
          }

          // Level/Intensity
          if (attraction.level) {
            popupContent += `
              <div style="background: white; padding: 8px; border-radius: 6px; text-align: center; border: 1px solid #ffe2c5;">
                <div style="font-size: 16px; margin-bottom: 4px;">‚ö°</div>
                <div style="font-size: 10px; color: #999; margin-bottom: 2px;">ƒê·ªô k√≠ch th√≠ch</div>
                <div style="font-size: 11px; color: #f77119; font-weight: bold;">${attraction.level}</div>
              </div>
            `;
          }

          // Weight limit
          if (attraction.weight) {
            popupContent += `
              <div style="background: white; padding: 8px; border-radius: 6px; text-align: center; border: 1px solid #ffe2c5;">
                <div style="font-size: 16px; margin-bottom: 4px;">‚öñÔ∏è</div>
                <div style="font-size: 10px; color: #999; margin-bottom: 2px;">C√¢n n·∫∑ng</div>
                <div style="font-size: 11px; color: #f77119; font-weight: bold;">${attraction.weight}</div>
              </div>
            `;
          }

          // Restaurant type
          if (attraction.restaurant_type) {
            popupContent += `
              <div style="background: white; padding: 8px; border-radius: 6px; text-align: center; border: 1px solid #ffe2c5;">
                <div style="font-size: 16px; margin-bottom: 4px;">üçΩÔ∏è</div>
                <div style="font-size: 10px; color: #999; margin-bottom: 2px;">Lo·∫°i h√¨nh</div>
                <div style="font-size: 11px; color: #f77119; font-weight: bold;">${attraction.restaurant_type}</div>
              </div>
            `;
          }

          // Cuisine
          if (attraction.cuisine) {
            popupContent += `
              <div style="background: white; padding: 8px; border-radius: 6px; text-align: center; border: 1px solid #ffe2c5;">
                <div style="font-size: 16px; margin-bottom: 4px;">üåç</div>
                <div style="font-size: 10px; color: #999; margin-bottom: 2px;">·∫®m th·ª±c</div>
                <div style="font-size: 11px; color: #f77119; font-weight: bold;">${attraction.cuisine}</div>
              </div>
            `;
          }

          popupContent += `</div>`; // Close grid

          // Weather warning
          if (attraction.weather_stop) {
            popupContent += `
              <div style="background: #fff3cd; border: 1px solid #ffecb5; border-radius: 6px; padding: 8px; margin-top: 8px; display: flex; align-items: center; gap: 8px;">
                <span style="font-size: 16px;">‚õàÔ∏è</span>
                <span style="font-size: 11px; color: #856404;">C√≥ th·ªÉ t·∫°m d·ª´ng khi th·ªùi ti·∫øt x·∫•u</span>
              </div>
            `;
          }

          // Maintenance warning
          if (attraction.maintainance) {
            popupContent += `
              <div style="background: #f8d7da; border: 1px solid #f5c2c7; border-radius: 6px; padding: 8px; margin-top: 8px; display: flex; align-items: center; gap: 8px;">
                <span style="font-size: 16px;">üîß</span>
                <span style="font-size: 11px; color: #842029; font-weight: bold;">ƒêang b·∫£o tr√¨</span>
              </div>
            `;
          }

          // Footer
          popupContent += `
            <div style="margin-top: 12px; padding-top: 10px; border-top: 1px solid #ffe2c5; display: flex; justify-content: space-between; align-items: center;">
              <div style="font-size: 10px; color: #999;">ƒêi·ªÉm #${idx + 1}</div>
              <div style="font-size: 18px;">üé¢</div>
            </div>
          `;

          popupContent += `</div></div>`; // Close content and main container
          popupContent += `</div>`; // Close scroll container
          popupContent += `</div>`; // Close main wrapper

          marker.bindPopup(popupContent, {
            maxWidth: 340,
            className: "custom-popup",
            autoPan: true,
            autoPanPaddingTopLeft: [10, 10],
            autoPanPaddingBottomRight: [10, 10],
            autoPanPadding: [50, 50],
            keepInView: true,
            closeButton: true,
            autoClose: true,
            closeOnClick: false,
          });

          // Smooth pan to marker when popup opens
          marker.on("click", function (e) {
            setTimeout(() => {
              map.panTo(e.latlng, {
                animate: true,
                duration: 0.5,
                easeLinearity: 0.25,
              });
            }, 100);
          });

          // Store marker with attraction data for filtering
          allMarkers.push({
            marker: marker,
            data: attraction,
          });
        });
        // attractions.forEach((attraction) => {
        //   const crowdInfo = getCrowdStatus(attraction.wait_time);
        //
        //   // Create custom icon with color based on crowd status
        //   const customIcon = L.divIcon({
        //     className: "custom-marker",
        //     html: `<div style="background-color: ${crowdInfo.color}; width: 20px; height: 20px; border-radius: 50%; border: 2px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.3);"></div>`,
        //     iconSize: [20, 20],
        //     iconAnchor: [10, 10],
        //   });
        //
        //   const marker = L.marker([attraction.y, attraction.x], {
        //     icon: customIcon,
        //   }).addTo(map);
        //
        //   const waitTimeText =
        //     attraction.wait_time === null
        //       ? '<span style="color: #999; font-weight: bold;">ƒêang b·∫£o tr√¨ üîß</span>'
        //       : `<span style="color: ${crowdInfo.color}; font-weight: bold;">${attraction.wait_time} ph√∫t</span>`;
        //
        //   const popupContent = `
        //           <div style="min-width: 150px; padding: 5px;">
        //             <h4 style="margin: 0 0 8px 0; color: #333; font-size: 14px;">${attraction.name}</h4>
        //             <p style="margin: 4px 0; font-size: 13px;">
        //               <strong>Th·ªùi gian ch·ªù:</strong> ${waitTimeText}
        //             </p>
        //             <p style="margin: 4px 0; font-size: 13px;">
        //               <strong>T√¨nh tr·∫°ng:</strong>
        //               <span style="color: ${crowdInfo.color}; font-weight: bold;">${crowdInfo.icon} ${crowdInfo.status}</span>
        //             </p>
        //           </div>
        //         `;
        //
        //   marker.bindPopup(popupContent);
        // });

        // Search functionality
        const searchBox = document.getElementById("searchBox");
        searchBox.addEventListener("input", function (e) {
          const searchTerm = e.target.value.toLowerCase().trim();
          filterMarkers(searchTerm, currentFilter);
        });

        // Filter functionality
        let currentFilter = "all";
        const filterButtons = document.querySelectorAll(".filter-btn");

        filterButtons.forEach((btn) => {
          btn.addEventListener("click", function () {
            // Update active button
            filterButtons.forEach((b) => b.classList.remove("active"));
            this.classList.add("active");

            // Get filter type
            currentFilter = this.getAttribute("data-filter");
            const searchTerm = searchBox.value.toLowerCase().trim();
            filterMarkers(searchTerm, currentFilter);
          });
        });

        // Filter markers based on search and filter type
        function filterMarkers(searchTerm, filterType) {
          allMarkers.forEach(({ marker, data }) => {
            let showMarker = true;

            // Filter by type
            if (filterType !== "all" && data.type !== filterType) {
              showMarker = false;
            }

            // Filter by search term
            if (searchTerm && !data.name.toLowerCase().includes(searchTerm)) {
              if (
                !data.location ||
                !data.location.toLowerCase().includes(searchTerm)
              ) {
                if (
                  !data.description ||
                  !data.description.toLowerCase().includes(searchTerm)
                ) {
                  showMarker = false;
                }
              }
            }

            // Show or hide marker
            if (showMarker) {
              if (!map.hasLayer(marker)) {
                marker.addTo(map);
              }
            } else {
              if (map.hasLayer(marker)) {
                map.removeLayer(marker);
              }
            }
          });
        }

        // Legend toggle functionality
        const searchToggle = document.getElementById("searchToggle");
        const searchPanel = document.getElementById("searchPanel");

        // Show toggle button when panel is hidden, hide when panel is shown
        function updateSearchToggle() {
          if (searchPanel.classList.contains("hide")) {
            searchToggle.style.display = "block";
          } else {
            searchToggle.style.display = "none";
          }
        }

        // Toggle panel on button click
        searchToggle.addEventListener("click", function () {
          searchPanel.classList.remove("hide");
          updateSearchToggle();
        });

        // Hide panel and show toggle button when clicking outside panel
        document.addEventListener("click", function (e) {
          if (
            !searchPanel.contains(e.target) &&
            !searchToggle.contains(e.target) &&
            !e.target.classList.contains("search-box") // allow typing in search
          ) {
            searchPanel.classList.add("hide");
            updateSearchToggle();
          }
        });

        const legendToggle = document.getElementById("legendToggle");
        const legendPanel = document.getElementById("legendPanel");

        legendToggle.addEventListener("click", function () {
          legendPanel.classList.toggle("show");
        });

        // Close legend when clicking outside
        document.addEventListener("click", function (e) {
          if (
            !legendPanel.contains(e.target) &&
            !legendToggle.contains(e.target)
          ) {
            legendPanel.classList.remove("show");
          }
        });
      };
    </script>
    <!-- LeafletJS JS -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  </body>
</html>
